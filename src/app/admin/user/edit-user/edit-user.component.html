
<div fxLayout="row wrap">
    
    <div fxFlex="100" >
        <div fxFlex="100" >
            <h1 fxLayoutAlign="center center">Update User</h1>
        </div>
 <!--  <div  fxLayoutAlign="end">
        <button mat-raised-button color="warn"  mat-dialog-close ><mat-icon >clear</mat-icon></button>
    </div> -->    
    </div>
    
        <div fxFlex="100" fxLayout="row wrap">

                <div *ngIf="loading" fxFlex="100" class="loader-container">
                    <mat-spinner style="top: 50%; left: 50%;"></mat-spinner>
                </div>
            
            <form [formGroup]="_userService.userForm" >
                <div fxLayout="row wrap" fxFlex="50" style="padding: 15px;">
                    <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">
                        <mat-form-field fxFlex="100">
                            <mat-label>First name</mat-label>
                            <input matInput formControlName="firstName">
                            <mat-error *ngIf="_userService.userForm.controls['firstName'].errors?.['required']">First name is required</mat-error>
                          </mat-form-field>
                    </div>
                    <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">

                          <mat-form-field fxFlex="100">
                            <mat-label>Last name</mat-label>
                            <input matInput formControlName="lastName">
                            <mat-error *ngIf="_userService.userForm.controls['lastName'].errors?.['required']">Last name is required</mat-error>
                          </mat-form-field>
                    </div>
                    <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">
                        <mat-form-field fxFlex="100" >
                            <mat-label>Email</mat-label>
                            <input matInput formControlName="email">
                            <mat-error *ngIf="_userService.userForm.controls['email'].errors?.['required']">Email is required</mat-error>
                            <mat-error *ngIf="_userService.userForm.controls['email'].errors?.['email']">Email format is incorrect</mat-error>

                          </mat-form-field>
                      </div>
                      <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">
                        <mat-form-field fxFlex="100">
                            <mat-label>Password</mat-label>
                            <input matInput  formControlName="password" readonly>
                            <mat-error *ngIf="_userService.userForm.controls['password'].errors?.['required']">Password is required</mat-error>

                          </mat-form-field>
                      </div>
                      <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center" >
                        <mat-form-field fxFlex="100">
                            <mat-label>Phone number</mat-label>
                            <input matInput formControlName="mobile" placeholder="Eg:+91-8888150121">
                            <mat-icon matSuffix>phone</mat-icon>
                            <mat-error *ngIf="_userService.userForm.controls['mobile'].errors?.['required']">Phone number is required</mat-error>
                            <mat-error *ngIf="_userService.userForm.controls['mobile'].errors?.['pattern']">Phone number should be in correct format</mat-error>


                          </mat-form-field>
                      </div>
                      <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">
                        <div fxFlex="100">
                            <mat-label>Gender:</mat-label>
                            <mat-radio-group matInput aria-label="Gender" formControlName="gender">
                                <mat-radio-button value="1">Male</mat-radio-button>
                                <mat-radio-button value="2">Female</mat-radio-button>
                            </mat-radio-group>
                            <mat-error *ngIf="_userService.userForm.controls['gender'].errors?.['required']">Gender is required</mat-error>

                        </div>
                    
                      </div>
                    </div>
                    
                      <div fxFlex="50" formGroupName="addressForm" fxLayout="row wrap" style="padding: 15px;">
                       
                            <div  fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center" >
                                <mat-form-field fxFlex="100">
                                    <mat-label>Street</mat-label>
                                    <input matInput formControlName="street">
                                    <mat-error *ngIf="_userService.userForm.get('addressForm.street')?.errors?.['required']">Street is required</mat-error>

                                </mat-form-field>
                            </div>
                            <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">
                                <mat-form-field fxFlex="100">
                                    <mat-label>City</mat-label>
                                    <input matInput formControlName="city">
                                    <mat-error *ngIf="_userService.userForm.get('addressForm.city')?.errors?.['required']">City is required</mat-error>

                                </mat-form-field>
                            </div>
                            <div  fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">
                                <mat-form-field fxFlex="100">
                                    <mat-label>District</mat-label>
                                    <input matInput formControlName="district">
                                    <mat-error *ngIf="_userService.userForm.get('addressForm.district')?.errors?.['required']">District is required</mat-error>

                                </mat-form-field>
                            </div>
                            
                            <div  fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">
                                <mat-form-field fxFlex="100">
                                    <mat-label>State</mat-label>
                                    <input matInput formControlName="state">
                                    <mat-error *ngIf="_userService.userForm.get('addressForm.state')?.errors?.['required']">State is required</mat-error>

                                </mat-form-field>
                            </div>
                            <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center">
                                <mat-form-field fxFlex="100">
                                    <mat-label>PostalCode</mat-label>
                                    <input matInput formControlName="postalCode">
                                    <mat-error *ngIf="_userService.userForm.get('addressForm.postalCode')?.errors?.['required']">PostalCode is required</mat-error>
                                    <mat-error *ngIf="_userService.userForm.get('addressForm.postalCode')?.errors?.['pattern']">PostalCode should be in correct format</mat-error>
                                    
                                </mat-form-field>
                            </div>
                     
                
                
                     
                </div>
            </form> 
            <div fxLayout="row wrap" fxFlex="100" fxLayoutAlign="center center" >
                <button fxFlex="25" mat-raised-button color="warn" mat-dialog-close>Cancel</button>
                <div fxFlex="10"></div>
                <button fxFlex="25" mat-raised-button color="primary" [disabled]="_userService.userForm.invalid" (click)="OnClickEdit()">Update</button>   
            </div>   
    </div>
